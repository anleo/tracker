<div class="panel panel-default"
     ng-class="{
     'panel-success': task.status == 'accepted',
     'panel-warning': task.status == 'in progress',
     'task-todo-low-time' : (task.timeToDo|round) < 0,
     'task-not-estimated' : !task.points
     }">

    <div class="panel-heading overflow-hidden">
        <h4 class="panel-title"><a ui-sref="app.task({taskId: task._id})">{{task.title}}</a>
            <span ng-if="onEdit" class="fa fa-pencil-square-o vcenter pull-right pointer" ng-click="edit(task)"></span>
            <span class="label label-info vcenter pull-right" ng-if="!task.simple">complex</span>
        </h4>
    </div>

    <div class="panel-body">

        <div ng-click="edit(task)" class="fs-sm" task-metrics task="task" task-options="options"></div>

        <div ng-if="task.description">
            <hr/>
            <div text-extend="task.description"></div>
        </div>

        <hr ng-if="task.tags.length"/>

        <!-- extract to directive -->
        <div ng-if="task.tags.length" class="tags tags-panel">
            <i class="fa fa-tags"></i>&nbsp;
            <a ui-sref="app.tags-find({taskId: task._id, tags: tag})" class="label" ng-repeat="tag in task.tags">{{tag}}</a>
        </div>

    </div>

</div>
