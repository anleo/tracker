<div ng-if="task">
    <h2>{{task.title}}</h2>

    <h4>
        <a ng-if="parentTask" ui-sref="app.task({taskId: parentTask._id})"> {{parentTask.title}}</a>
    </h4>

    <div ng-if="task.description" class="mg" text-extend="task.description" text-limit="170"></div>

    <div files-view files="task"></div>

    <div ng-click="edit(task)" task-metrics task="task"></div>

</div>

<div ng-include="'templates/form.html'"></div>

<div class="pull-right" ng-if="taskId">
    <button class="btn btn-sm btn-default" ng-click="loadView(report)">Report</button>
</div>

<div class="btn-group mg" role="group">
    <button class="btn btn-default btn-sm"
            ng-click="loadView(aView)"
            ng-repeat="aView in views"
            ng-class="{'active': aView == view }">
        {{aView.title}}
    </button>
</div>

<div ng-include="'templates/view/task-view-'+view.name+'.html'"></div>